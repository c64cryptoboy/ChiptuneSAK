
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>PDF Sheetmusic via Lilypond &#8212; ChiptuneSAK 0.1 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="C128 BASIC music programs" href="c128BASIC.html" />
    <link rel="prev" title="Chirp" href="chirp.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="pdf-sheetmusic-via-lilypond">
<h1><a class="toc-backref" href="#id1">PDF Sheetmusic via Lilypond</a><a class="headerlink" href="#pdf-sheetmusic-via-lilypond" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#pdf-sheetmusic-via-lilypond" id="id1">PDF Sheetmusic via Lilypond</a></p>
<ul>
<li><p><a class="reference internal" href="#lilypond-description" id="id2">Lilypond description</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id3">Examples</a></p>
<ul>
<li><p><a class="reference internal" href="#example-1-midi-to-lilypond-sheet-music-clip" id="id4">Example 1:  Midi to Lilypond Sheet Music clip</a></p></li>
<li><p><a class="reference internal" href="#example-2-midi-game-music-to-sheet-music" id="id5">Example 2:  Midi game music to sheet music</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="lilypond-description">
<h2><a class="toc-backref" href="#id2">Lilypond description</a><a class="headerlink" href="#lilypond-description" title="Permalink to this headline">¶</a></h2>
<p><strong>TODO</strong></p>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id3">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="example-1-midi-to-lilypond-sheet-music-clip">
<h3><a class="toc-backref" href="#id4">Example 1:  Midi to Lilypond Sheet Music clip</a><a class="headerlink" href="#example-1-midi-to-lilypond-sheet-music-clip" title="Permalink to this headline">¶</a></h3>
<p>You’ll need to write your own script to perform this workflow.  In your code, read in the midi file, convert it to measures, and then select the measures you want to turn into a clip. Then call <em>ctsLilypond.export_clip_to_lilypond()</em> to create the Lilypond source for the clip.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">song</span> <span class="o">=</span> <span class="n">ctsMidi</span><span class="o">.</span><span class="n">import_midi_to_chirp</span><span class="p">(</span><span class="s1">&#39;bach_invention_4.mid&#39;</span><span class="p">)</span>
<span class="n">song</span><span class="o">.</span><span class="n">quantize_from_note_name</span><span class="p">(</span><span class="s1">&#39;16&#39;</span><span class="p">)</span>  <span class="c1"># Quantize to sixteenth notes</span>
<span class="n">song</span><span class="o">.</span><span class="n">remove_polyphony</span><span class="p">()</span>
<span class="n">m_song</span> <span class="o">=</span> <span class="n">ctsMChirp</span><span class="o">.</span><span class="n">MChirpSong</span><span class="p">(</span><span class="n">song</span><span class="p">)</span>
<span class="n">ly</span> <span class="o">=</span> <span class="n">ctsLilypond</span><span class="o">.</span><span class="n">export_clip_to_lilypond</span><span class="p">(</span><span class="n">m_song</span><span class="p">,</span> <span class="n">m_song</span><span class="o">.</span><span class="n">tracks</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">measures</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">8</span><span class="p">])</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;bach.ly&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">ly</span><span class="p">)</span>
</pre></div>
</div>
<p>Then execute the Lilypond command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lilypond</span> <span class="o">-</span><span class="n">ddelete</span><span class="o">-</span><span class="n">intermediate</span><span class="o">-</span><span class="n">files</span> <span class="o">-</span><span class="n">dbackend</span><span class="o">=</span><span class="n">eps</span> <span class="o">-</span><span class="n">dresolution</span><span class="o">=</span><span class="mi">600</span> <span class="o">--</span><span class="n">png</span> <span class="n">bach</span><span class="o">.</span><span class="n">ly</span>
</pre></div>
</div>
<p>The result will be <cite>bach.png</cite> that looks like this:</p>
<img alt="alternate bachMusic" src="_images/bach.png" />
</div>
<div class="section" id="example-2-midi-game-music-to-sheet-music">
<h3><a class="toc-backref" href="#id5">Example 2:  Midi game music to sheet music</a><a class="headerlink" href="#example-2-midi-game-music-to-sheet-music" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Often, <a class="reference external" href="http://www.mirsoft.info/gamemids-ripping-guide.php/">midi ripped from old DOS games</a> results in messy midi files that don’t include keys, time signatures, or even reliable ticks per quarter notes.  This example workflow shows how to turn such music into Lilypond-generated sheet music, and will use <a class="reference external" href="http://www.midi-karaoke.info/21868cd1.html">a piece of music</a> from an MS-DOS RPG Betrayal At Krondor (Sierra On-Line, 1993).</p>
</div></blockquote>
<p>Assume we’re going to make sheet music to go along with a C64 lowering, so we’ll select three voices from the midi:</p>
<p><strong>TODO</strong></p>
<p>We then use the FitPPQ.py script to estimate the actual note lengths and adjust them to have a ppq of 960.  From the tools directory, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FitPPQ</span><span class="o">.</span><span class="n">py</span> <span class="o">..</span>\<span class="n">test</span>\<span class="n">Betrayal_orig</span><span class="o">.</span><span class="n">mid</span> <span class="o">..</span>\<span class="n">test</span>\<span class="n">betrayal_q</span><span class="o">.</span><span class="n">mid</span>
</pre></div>
</div>
<p>This should generate the following output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Reading</span> <span class="n">file</span> <span class="o">..</span>\<span class="n">test</span>\<span class="n">betrayal_q</span><span class="o">.</span><span class="n">mid</span>
<span class="n">Finding</span> <span class="n">initial</span> <span class="n">parameters</span><span class="o">...</span>
<span class="n">Refining</span><span class="o">...</span>
<span class="n">scale_factor</span> <span class="o">=</span> <span class="mf">5.89000</span><span class="p">,</span> <span class="n">offset</span> <span class="o">=</span> <span class="mi">2398</span><span class="p">,</span> <span class="n">total</span> <span class="n">error</span> <span class="o">=</span> <span class="mf">2386.2</span> <span class="n">ticks</span> <span class="p">(</span><span class="mf">22.03</span> <span class="n">ticks</span><span class="o">/</span><span class="n">note</span> <span class="k">for</span> <span class="n">ppq</span> <span class="o">=</span> <span class="mi">960</span><span class="p">)</span>
<span class="n">Writing</span> <span class="n">file</span> <span class="o">..</span>\<span class="n">test</span>\<span class="n">betrayal_q</span><span class="o">.</span><span class="n">mid</span>
</pre></div>
</div>
<p>It is a good idea to do a sanity check on the output file, as the algorithm in FitPPQ occasionally fails.  (We are working on this issue but it’s not guaranteed to work for every file.)</p>
<p>Now quantize the output midi file to 16th notes.  This writes over the existing midi file with a quantized version:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TransformMidi</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">q</span> <span class="mi">16</span> <span class="o">-</span><span class="n">r</span> <span class="o">..</span>\<span class="n">test</span>\<span class="n">betrayal_q</span><span class="o">.</span><span class="n">mid</span> <span class="o">..</span>\<span class="n">test</span>\<span class="n">betrayal_q</span><span class="o">.</span><span class="n">mid</span>
</pre></div>
</div>
<p>Then output will look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">638</span> <span class="n">notes</span>
<span class="n">PPQ</span> <span class="o">=</span> <span class="mi">960</span>
<span class="n">Input</span> <span class="n">midi</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">quantized</span> <span class="ow">and</span>  <span class="n">polyphonic</span>
<span class="n">Quantizing</span><span class="o">...</span>
<span class="n">to</span> <span class="n">note</span> <span class="n">value</span> <span class="mi">16</span>
<span class="n">Eliminating</span> <span class="n">polyphony</span><span class="o">...</span>
<span class="n">Output</span> <span class="n">ChirpSong</span> <span class="ow">is</span>  <span class="n">quantized</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">polyphonic</span>
  <span class="n">Time</span> <span class="n">Signature</span> <span class="n">Changes</span> <span class="mi">1</span>
   <span class="n">Key</span> <span class="n">Signature</span> <span class="n">Changes</span> <span class="mi">1</span>
           <span class="n">Tempo</span> <span class="n">Changes</span> <span class="mi">1</span>
              <span class="n">MIDI</span> <span class="n">notes</span> <span class="mi">638</span>
                   <span class="n">Notes</span> <span class="mi">638</span>
             <span class="n">Track</span> <span class="n">names</span> <span class="p">[</span><span class="s1">&#39;Copyright (c)1992&#39;</span><span class="p">,</span> <span class="s1">&#39;Dynamix, Inc.&#39;</span><span class="p">,</span> <span class="s1">&#39;====================&#39;</span><span class="p">]</span>
       <span class="n">Note</span> <span class="n">Start</span> <span class="n">Deltas</span> <span class="n">Counter</span><span class="p">({</span><span class="o">-</span><span class="mi">9</span><span class="p">:</span> <span class="mi">26</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">28</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span> <span class="o">-</span><span class="mi">25</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">17</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">12</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">:</span> <span class="mi">17</span><span class="p">,</span> <span class="o">-</span><span class="mi">14</span><span class="p">:</span> <span class="mi">17</span><span class="p">,</span> <span class="o">-</span><span class="mi">10</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">22</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="o">-</span><span class="mi">36</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">23</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">14</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">34</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">15</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="o">-</span><span class="mi">19</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">33</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">18</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">29</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">32</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">21</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">55</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">11</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">24</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">35</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">25</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="o">-</span><span class="mi">16</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="o">-</span><span class="mi">66</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="o">-</span><span class="mi">34</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">44</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">30</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">26</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">50</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">38</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">49</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">54</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">41</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">31</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">11</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">60</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">19</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">51</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">56</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">45</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">40</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">44</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">39</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">28</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">35</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">55</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">40</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">45</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">36</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">62</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">61</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">37</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">27</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">71</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">33</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">18</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">37</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">27</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">13</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">60</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">39</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">46</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">8</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">31</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">15</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">26</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">49</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">43</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">57</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">17</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">38</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">12</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">7</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">21</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">51</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">29</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">24</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">13</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
         <span class="n">Duration</span> <span class="n">Deltas</span> <span class="n">Counter</span><span class="p">({</span><span class="mi">0</span><span class="p">:</span> <span class="mi">53</span><span class="p">,</span> <span class="mi">21</span><span class="p">:</span> <span class="mi">51</span><span class="p">,</span> <span class="o">-</span><span class="mi">21</span><span class="p">:</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">6</span><span class="p">:</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">26</span><span class="p">:</span> <span class="mi">28</span><span class="p">,</span> <span class="o">-</span><span class="mi">15</span><span class="p">:</span> <span class="mi">26</span><span class="p">,</span> <span class="o">-</span><span class="mi">66</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">97</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span> <span class="mi">107</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">56</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">10</span><span class="p">:</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">62</span><span class="p">:</span> <span class="mi">17</span><span class="p">,</span> <span class="o">-</span><span class="mi">25</span><span class="p">:</span> <span class="mi">17</span><span class="p">,</span> <span class="o">-</span><span class="mi">102</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">41</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> <span class="o">-</span><span class="mi">77</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="o">-</span><span class="mi">91</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="o">-</span><span class="mi">46</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">113</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="o">-</span><span class="mi">30</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="o">-</span><span class="mi">108</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">103</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mi">31</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">118</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">56</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="o">-</span><span class="mi">6</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="o">-</span><span class="mi">35</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">15</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="o">-</span><span class="mi">60</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">82</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">16</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">52</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">47</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="o">-</span><span class="mi">96</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">76</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">112</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">116</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">52</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">109</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">91</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">29</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">50</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">18</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">62</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">35</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">44</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">25</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">72</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">19</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">68</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">88</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">31</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">27</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">50</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">36</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">24</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">54</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">53</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">46</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
               <span class="n">Truncated</span> <span class="mi">88</span>
               <span class="n">Deleted</span> <span class="mi">0</span>
<span class="n">Exporting</span> <span class="n">to</span> <span class="n">MIDI</span><span class="o">...</span>
</pre></div>
</div>
<p>Now that the file is quantized, it can be made into a pdf:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>midiToLilypond.py -a ..\test\betrayal_q.mid ..\test`
</pre></div>
</div>
<p>Note that you <strong>must</strong> have lilypond in your path for that script to work.</p>
<p>The output should look something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Reading ..\test\betrayal_q.mid
Removing control notes...
Quantizing...
480 240
Removing polyphony...
Converting to measures...
Generating lilypond...
Writing lilypond to ..\test\betrayal_q.ly
GNU LilyPond 2.18.2
Changing working directory to: `../test&#39;
Processing `../test/betrayal_q.ly&#39;
Parsing...
Interpreting music...[8][16][24][32][40][48][56]
Preprocessing graphical objects...
Finding the ideal number of pages...
Fitting music on 3 or 4 pages...
Drawing systems...
Layout output to `betrayal_q.ps&#39;...
Converting to `./betrayal_q.pdf&#39;...
Success: compilation successfully completed
</pre></div>
</div>
<p>And the resulting sheet music should appear as <cite>betrayal-q.pdf</cite> in the test directory.</p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">ChiptuneSAK</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="MusicConcepts.html">Musical Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="chirp.html">Chirp</a></li>
<li class="toctree-l1"><a class="reference internal" href="chirp.html#chirp-formats">Chirp Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="chirp.html#concepts-in-chirp-music-representation">Concepts in chirp music representation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">PDF Sheetmusic via Lilypond</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#lilypond-description">Lilypond description</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="c128BASIC.html">C128 BASIC music programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="Classes.html">Classes</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="chirp.html" title="previous chapter">Chirp</a></li>
      <li>Next: <a href="c128BASIC.html" title="next chapter">C128 BASIC music programs</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, David Youd and David Knapp.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/sheetmusic.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>